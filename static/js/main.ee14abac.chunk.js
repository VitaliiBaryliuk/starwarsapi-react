(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a.p+"static/media/logo.4d68287a.png"},23:function(e,t,a){e.exports=a(37)},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(18),l=a.n(i),c=a(39),s=a(38),o=a(40),u=a(22),m=a(19),p=a.n(m),h=(a(29),a(30),a(31),a(3)),d=a.n(h),f=a(6),b=a(7),g=a(8),v=a(10),E=a(9),y=a(11),S=a(15),k="https://swapi.co/api/",j={getRootApiData:function(){var e=Object(f.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(k);case 2:return e.next=4,e.sent.json();case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),getApiDataList:function(){var e=Object(f.a)(d.a.mark(function e(t){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(k+t);case 2:return e.next=4,e.sent.json();case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getApiDataItem:function(){var e=Object(f.a)(d.a.mark(function e(t,a){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(k+t+"/"+a);case 2:return e.next=4,e.sent.json();case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},O=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(v.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={categories:[]},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.getRootApiData();case 2:t=e.sent,this.setState({categories:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.categories;return r.a.createElement("div",{className:"home-page"},e.toString()?Object.keys(e).map(function(e){return r.a.createElement("div",{className:"home-page__category-item",key:e},r.a.createElement(S.a,{to:"/".concat(e)},e))}):r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}}]),t}(n.Component),N=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(v.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={item:[],titles:[]},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(d.a.mark(function e(){var t,a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.category,a=this.props.match.params.id,e.next=4,j.getApiDataItem(t,a);case 4:n=e.sent,this.setState({item:n,titles:Object.keys(n)});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.item,a=e.titles;return r.a.createElement(n.Fragment,null,a.length?r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,a.map(function(e){return r.a.createElement("tr",{key:e},r.a.createElement("td",{className:"table__cell title"},e,":"),r.a.createElement("td",{className:"table__cell desc"},t[e]))}))):r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}}]),t}(r.a.Component),C=a(16),_=a(21),w={people:{name:{title:"Name",isSortable:!0,isSearchable:!0,link:"/people/:fieldName"},gender:{title:"Gender",isSortable:!0},birth_year:{title:"Birth year",isSortable:!0},height:{title:"Height",isSortable:!0},mass:{title:"Mass",isSortable:!0}},films:{title:{title:"Title",isSortable:!0,isSearchable:!0,link:"/people/:fieldName"},episode_id:{title:"Episode number",isSortable:!0},release_date:{title:"Relised",isSortable:!0},director:{title:"Director",isSearchable:!0},producer:{title:"Producer",isSearchable:!0}},starships:{name:{title:"Name",isSortable:!0,isSearchable:!0,link:"/people/:fieldName"},starship_class:{title:"Ship class",isSearchable:!0},created:{title:"Created",isSortable:!0},length:{title:"Length",isSortable:!0},cost_in_credits:{title:"Price, credits",isSearchable:!0}},vehicles:{name:{title:"Name",isSortable:!0,isSearchable:!0,link:"/people/:fieldName"},model:{title:"Model",isSearchable:!0},created:{title:"Created",isSortable:!0},length:{title:"Length",isSortable:!0},cost_in_credits:{title:"Price, credits",isSearchable:!0}},species:{name:{title:"Name",isSortable:!0,isSearchable:!0,link:"/people/:fieldName"},classification:{title:"Classification",isSearchable:!0},average_height:{title:"Average height",isSortable:!0},average_lifespan:{title:"Average lifespan",isSortable:!0},skin_colors:{title:"Skin colors",isSearchable:!0}},planets:{name:{title:"Name",isSortable:!0,isSearchable:!0,link:"/people/:fieldName"},climate:{title:"Climate",isSortable:!0},population:{title:"Population",isSortable:!0},orbital_period:{title:"Orbital period",isSortable:!0},diameter:{title:"Diameter",isSortable:!0}}},x=function(e){var t=e.perPage,a=e.totalCount,n=e.onPageChange,i=Math.ceil(a/t),l=Array(i).fill(0).map(function(e,t){return t+1});return r.a.createElement("div",{className:"pagination"},l.map(function(e){return r.a.createElement("button",{className:"pagination__button",key:e,onClick:function(){return n(e)}},e)}))},A={debounce:function(e,t){var a=null;return function(){for(var n=this,r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];a&&clearTimeout(a),a=setTimeout(function(){e.apply(n,i),a=null},t)}}},P=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(v.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={list:[],sortAsc:!0,sortColumn:null,columnConfig:{},perPage:5,page:1,query:""},a.updateQuery=function(e){a.setState({query:e,page:1})},a.listSort=function(e){var t=e.list,a=e.sortColumn,n=e.sortAsc;if(!a)return t;var r=n?1:-1,i=isNaN(+t[0][a])?function(e,t){return r*e[a].localeCompare(t[a])}:function(e,t){return r*(e[a]-t[a])};return Object(_.a)(t).sort(i)},a.listFiler=function(e){var t=e.list,n=e.query,r=RegExp(n,"i"),i=a.props.match.params.category,l=Object.keys(w[i])[0];return t.filter(function(e){return r.test(e[l])})},a.listPaginate=function(e){var t=e.list,a=e.page,n=e.perPage,r=(a-1)*n,i=r+n;return t.slice(r,i)},a.handleHeaderClick=function(e){a.setState(function(t){var a=t.sortAsc,n=t.sortColumn;return{sortColumn:e,sortAsc:n!==e||!a}})},a.handlerPaginationClick=function(e){a.setState({page:e})},a.handlerSearchChange=function(e){var t=e.target.value;A.debounce(a.updateQuery,1e3)(t)},a}return Object(y.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(d.a.mark(function e(){var t,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.category,e.next=3,j.getApiDataList(t);case 3:a=e.sent,this.setState({list:a.results,keyValue:Object.keys(a.results[0])[0],columnConfig:w[t]});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.list,n=t.columnConfig,i=t.sortAsc,l=t.sortColumn,c=t.page,o=t.perPage,u=t.query,m=this.listSort({list:a,sortColumn:l,sortAsc:i}),p=this.listFiler({list:m,query:u}),h=this.listPaginate({list:p,page:c,perPage:o});return a.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"filters"},r.a.createElement("input",{type:"text",className:"filters__search-input",placeholder:"Search...",onChange:function(t){return e.handlerSearchChange(t)}})),r.a.createElement("table",{className:"data-table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,Object.entries(n).map(function(t){var a=Object(C.a)(t,2),n=a[0],i=a[1];return r.a.createElement("th",{className:"data-table__title",key:i.title,onClick:i.isSortable?function(){return e.handleHeaderClick(n)}:null},i.title)})),h.map(function(e,t){return r.a.createElement("tr",{key:t},Object.entries(n).map(function(t,a){var n=Object(C.a)(t,2),i=n[0],l=n[1];return r.a.createElement("td",{className:"data-table__item",key:"".concat(e[i]).concat(a)},l.link?r.a.createElement(s.a,{to:"/people/".concat(e.url.match(/[0-9]+/))},e[i]):e[i])}))}))),r.a.createElement(x,{perPage:o,totalCount:p.length,onPageChange:this.handlerPaginationClick})):r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}}]),t}(r.a.Component),D=["people","planets","films","species","vehicles","starships"],L=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement(s.a,{to:""},r.a.createElement("img",{src:p.a,className:"header__logo",alt:"StarWars"}))),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(o.a,null,r.a.createElement(u.a,{exact:!0,path:"",component:O}),r.a.createElement(u.a,{exact:!0,path:"/:category(".concat(D.join("|"),")"),component:P}),r.a.createElement(u.a,{path:"/:category(".concat(D.join("|"),")/:id([0-9]+)"),component:N}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(c.a,{basename:Object({NODE_ENV:"production",PUBLIC_URL:"/starwarsapi-react"}).ROOT_PATH},r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.ee14abac.chunk.js.map