(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/logo.4d68287a.png"},23:function(e,t,a){e.exports=a(35)},34:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(18),c=a.n(i),l=a(37),s=a(36),o=a(38),u=a(22),m=a(3),p=a.n(m),h=a(6),d=a(7),f=a(8),b=a(10),g=a(9),v=a(11),E=a(15),y="https://swapi.co/api/",S={getRootApiData:function(){var e=Object(h.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(y);case 2:return e.next=4,e.sent.json();case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),getApiDataList:function(){var e=Object(h.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(y+t);case 2:return e.next=4,e.sent.json();case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getApiDataItem:function(){var e=Object(h.a)(p.a.mark(function e(t,a){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(y+t+"/"+a);case 2:return e.next=4,e.sent.json();case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},w=function(){return r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},k=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(b.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={categories:[],isLoaded:!1},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getRootApiData();case 2:t=e.sent,this.setState({categories:t,isLoaded:!0});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.categories;return e.isLoaded?r.a.createElement("div",{className:"home-page"},Object.keys(t).map(function(e){return r.a.createElement("div",{className:"home-page__category-item",key:e},r.a.createElement(E.a,{to:"/".concat(e)},e))})):r.a.createElement(w,null)}}]),t}(n.Component),_=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(b.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={item:{},isLoaded:!1,titles:[]},a.componentWillReceiveProps=function(e){window.location.reload()},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(p.a.mark(function e(){var t,a,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.category,a=this.props.match.params.id,e.next=4,S.getApiDataItem(t,a);case 4:n=e.sent,this.setState({item:n,isLoaded:!0,titles:Object.keys(n)});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.item,a=e.isLoaded,n=e.titles;return a?r.a.createElement("div",{className:"viewer-wrapper"},r.a.createElement("table",{className:"viewer-table"},r.a.createElement("tbody",null,n.map(function(e){return Array.isArray(t[e])?r.a.createElement("tr",{key:e},r.a.createElement("td",{className:"viewer-table__cell title"},e,":"),r.a.createElement("td",{className:"viewer-table__cell desc"},r.a.createElement("ul",null,t[e].map(function(e){return r.a.createElement("li",{key:e},r.a.createElement(s.a,{to:e.match(/[https:\/\/swapi.co\/api\/]\w+\/[0-9]+/gm)[0]},e))})))):"string"===typeof t[e]&&t[e].includes("http")?r.a.createElement("tr",{key:e},r.a.createElement("td",{className:"viewer-table__cell title"},e,":"),r.a.createElement("td",{className:"viewer-table__cell desc"},r.a.createElement(s.a,{to:t[e].match(/[https:\/\/swapi.co\/api\/]\w+\/[0-9]+/gm)[0]},t[e]))):r.a.createElement("tr",{key:e},r.a.createElement("td",{className:"viewer-table__cell title"},e,":"),r.a.createElement("td",{className:"viewer-table__cell desc"},t[e]))})))):r.a.createElement(w,null)}}]),t}(r.a.Component),j=a(16),O=a(21),C={people:{name:{title:"Name",isSortable:!0,isSearchable:!0,render:function(e,t){return r.a.createElement(s.a,{to:"/people/".concat(e)},t)}},gender:{title:"Gender",isSortable:!0},birth_year:{title:"Birth year",isSortable:!0},height:{title:"Height",isSortable:!0},mass:{title:"Mass",isSortable:!0}},films:{title:{title:"Title",isSortable:!0,isSearchable:!0,render:function(e,t){return r.a.createElement(s.a,{to:"/films/".concat(e)},t)}},episode_id:{title:"Episode number",isSortable:!0},release_date:{title:"Relised",isSortable:!0},director:{title:"Director",isSearchable:!0},producer:{title:"Producer",isSearchable:!0}},starships:{name:{title:"Name",isSortable:!0,isSearchable:!0,render:function(e,t){return r.a.createElement(s.a,{to:"/starships/".concat(e)},t)}},starship_class:{title:"Ship class",isSearchable:!0},created:{title:"Created",isSortable:!0},length:{title:"Length",isSortable:!0},cost_in_credits:{title:"Price, credits",isSearchable:!0}},vehicles:{name:{title:"Name",isSortable:!0,isSearchable:!0,render:function(e,t){return r.a.createElement(s.a,{to:"/vehicles/".concat(e)},t)}},model:{title:"Model",isSearchable:!0},created:{title:"Created",isSortable:!0},length:{title:"Length",isSortable:!0},cost_in_credits:{title:"Price, credits",isSearchable:!0}},species:{name:{title:"Name",isSortable:!0,isSearchable:!0,render:function(e,t){return r.a.createElement(s.a,{to:"/species/".concat(e)},t)}},classification:{title:"Classification",isSearchable:!0},average_height:{title:"Average height",isSortable:!0},average_lifespan:{title:"Average lifespan",isSortable:!0},skin_colors:{title:"Skin colors",isSearchable:!0}},planets:{name:{title:"Name",isSortable:!0,isSearchable:!0,render:function(e,t){return r.a.createElement(s.a,{to:"/planets/".concat(e)},t)}},climate:{title:"Climate",isSortable:!0},population:{title:"Population",isSortable:!0},orbital_period:{title:"Orbital period",isSortable:!0},diameter:{title:"Diameter",isSortable:!0}}},N=function(e){var t=e.perPage,a=e.totalCount,n=e.onPageChange,i=Math.ceil(a/t),c=Array(i).fill(0).map(function(e,t){return t+1});return r.a.createElement("div",{className:"pagination"},c.map(function(e){return r.a.createElement("button",{className:"pagination__button",key:e,onClick:function(){return n(e)}},e)}))},A={debounce:function(e,t){var a=null;return function(){for(var n=this,r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];a&&clearTimeout(a),a=setTimeout(function(){e.apply(n,i),a=null},t)}}},x=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(b.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={list:[],isLoaded:!1,sortAsc:!0,sortColumn:null,columnConfig:{},perPage:5,page:1,query:""},a.updateQuery=function(e){a.setState({query:e,page:1})},a.listSort=function(e){var t=e.list,a=e.sortColumn,n=e.sortAsc;if(!a)return t;var r=n?1:-1,i=isNaN(+t[0][a])?function(e,t){return r*e[a].localeCompare(t[a])}:function(e,t){return r*(e[a]-t[a])};return Object(O.a)(t).sort(i)},a.listFiler=function(e){var t=e.list,n=e.query,r=RegExp(n,"i"),i=a.props.match.params.category,c=Object.keys(C[i])[0];return t.filter(function(e){return r.test(e[c])})},a.listPaginate=function(e){var t=e.list,a=e.page,n=e.perPage,r=(a-1)*n,i=r+n;return t.slice(r,i)},a.handleHeaderClick=function(e){a.setState(function(t){var a=t.sortAsc,n=t.sortColumn;return{sortColumn:e,sortAsc:n!==e||!a}})},a.handlerPaginationClick=function(e){a.setState({page:e})},a.handlerSearchChange=function(e){var t=e.target.value;A.debounce(a.updateQuery,1e3)(t)},a}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(p.a.mark(function e(){var t,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.category,e.next=3,S.getApiDataList(t);case 3:a=e.sent,this.setState({list:a.results,isLoaded:!0,keyValue:Object.keys(a.results[0])[0],columnConfig:C[t]});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.list,n=t.columnConfig,i=t.sortAsc,c=t.sortColumn,l=t.page,s=t.perPage,o=t.query,u=t.isLoaded,m=this.listSort({list:a,sortColumn:c,sortAsc:i}),p=this.listFiler({list:m,query:o}),h=this.listPaginate({list:p,page:l,perPage:s});return u?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"filters"},r.a.createElement("input",{type:"text",className:"filters__search-input",placeholder:"Search...",onChange:function(t){return e.handlerSearchChange(t)}})),r.a.createElement("table",{className:"data-table"},r.a.createElement("tbody",null,r.a.createElement("tr",null,Object.entries(n).map(function(t){var a=Object(j.a)(t,2),n=a[0],i=a[1];return r.a.createElement("th",{className:"data-table__title",key:i.title,onClick:i.isSortable?function(){return e.handleHeaderClick(n)}:null},i.title)})),h.map(function(e,t){return r.a.createElement("tr",{key:t},Object.entries(n).map(function(t,a){var n=Object(j.a)(t,2),i=n[0],c=n[1];return r.a.createElement("td",{className:"data-table__item",key:"".concat(e[i]).concat(a)},c.render?c.render(e.url.match(/[0-9]+/),e[i]):e[i])}))}))),r.a.createElement(N,{perPage:s,totalCount:p.length,onPageChange:this.handlerPaginationClick})):r.a.createElement(w,null)}}]),t}(r.a.Component),P=(a(34),a(20)),L=a.n(P),D=["people","planets","films","species","vehicles","starships"],M=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement(s.a,{to:""},r.a.createElement("img",{src:L.a,className:"header__logo",alt:"StarWars"}))),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(o.a,null,r.a.createElement(u.a,{exact:!0,path:"/",component:k}),r.a.createElement(u.a,{exact:!0,path:"/:category(".concat(D.join("|"),")"),component:x}),r.a.createElement(u.a,{path:"/:category(".concat(D.join("|"),")/:id([0-9]+)"),component:_}),r.a.createElement(u.a,{render:function(){return r.a.createElement("h3",null,"Page not found")}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(l.a,null,r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.b323f504.chunk.js.map